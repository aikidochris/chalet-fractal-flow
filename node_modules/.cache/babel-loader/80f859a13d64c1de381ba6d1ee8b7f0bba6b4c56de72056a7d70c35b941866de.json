{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RenameColumnInline=_ref=>{let{value,onSave,onCancel}=_ref;const[name,setName]=useState(value);const[error,setError]=useState('');const inputRef=useRef(null);useEffect(()=>{var _inputRef$current;setName(value);setError('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();},[value]);const handleBlur=()=>{if(!name.trim()){setError('Please enter a column name.');return;}if(name.trim()!==value){onSave(name.trim());}else{onCancel();}};const handleKeyDown=e=>{if(e.key==='Enter'){if(!name.trim()){setError('Please enter a column name.');return;}onSave(name.trim());}else if(e.key==='Escape'){onCancel();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,className:`text-lg font-semibold px-1 rounded border ${error?'border-red-500':'border-transparent'} focus:border-accent outline-none bg-white`,value:name,onChange:e=>{setName(e.target.value);setError('');},onBlur:handleBlur,onKeyDown:handleKeyDown,\"aria-label\":\"Rename column\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-600 mt-1\",children:error})]});};export default RenameColumnInline;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","RenameColumnInline","_ref","value","onSave","onCancel","name","setName","error","setError","inputRef","_inputRef$current","current","focus","handleBlur","trim","handleKeyDown","e","key","className","children","ref","onChange","target","onBlur","onKeyDown"],"sources":["C:/Users/aikid/CascadeProjects/chalet-fractal-flow/src/components/RenameColumnInline.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\ninterface RenameColumnInlineProps {\n  value: string;\n  onSave: (name: string) => void;\n  onCancel: () => void;\n}\n\nconst RenameColumnInline: React.FC<RenameColumnInlineProps> = ({ value, onSave, onCancel }) => {\n  const [name, setName] = useState(value);\n  const [error, setError] = useState('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    setName(value);\n    setError('');\n    inputRef.current?.focus();\n  }, [value]);\n\n  const handleBlur = () => {\n    if (!name.trim()) {\n      setError('Please enter a column name.');\n      return;\n    }\n    if (name.trim() !== value) {\n      onSave(name.trim());\n    } else {\n      onCancel();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      if (!name.trim()) {\n        setError('Please enter a column name.');\n        return;\n      }\n      onSave(name.trim());\n    } else if (e.key === 'Escape') {\n      onCancel();\n    }\n  };\n\n  return (\n    <div className=\"inline-block\">\n      <input\n        ref={inputRef}\n        className={`text-lg font-semibold px-1 rounded border ${error ? 'border-red-500' : 'border-transparent'} focus:border-accent outline-none bg-white`}\n        value={name}\n        onChange={e => { setName(e.target.value); setError(''); }}\n        onBlur={handleBlur}\n        onKeyDown={handleKeyDown}\n        aria-label=\"Rename column\"\n      />\n      {error && <div className=\"text-xs text-red-600 mt-1\">{error}</div>}\n    </div>\n  );\n};\n\nexport default RenameColumnInline;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQ3D,KAAM,CAAAC,kBAAqD,CAAGC,IAAA,EAAiC,IAAhC,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACxF,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAACS,KAAK,CAAC,CACvC,KAAM,CAACK,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAgB,QAAQ,CAAGf,MAAM,CAAmB,IAAI,CAAC,CAE/CC,SAAS,CAAC,IAAM,KAAAe,iBAAA,CACdJ,OAAO,CAACJ,KAAK,CAAC,CACdM,QAAQ,CAAC,EAAE,CAAC,CACZ,CAAAE,iBAAA,CAAAD,QAAQ,CAACE,OAAO,UAAAD,iBAAA,iBAAhBA,iBAAA,CAAkBE,KAAK,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACV,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAW,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAACR,IAAI,CAACS,IAAI,CAAC,CAAC,CAAE,CAChBN,QAAQ,CAAC,6BAA6B,CAAC,CACvC,OACF,CACA,GAAIH,IAAI,CAACS,IAAI,CAAC,CAAC,GAAKZ,KAAK,CAAE,CACzBC,MAAM,CAACE,IAAI,CAACS,IAAI,CAAC,CAAC,CAAC,CACrB,CAAC,IAAM,CACLV,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAED,KAAM,CAAAW,aAAa,CAAIC,CAAsB,EAAK,CAChD,GAAIA,CAAC,CAACC,GAAG,GAAK,OAAO,CAAE,CACrB,GAAI,CAACZ,IAAI,CAACS,IAAI,CAAC,CAAC,CAAE,CAChBN,QAAQ,CAAC,6BAA6B,CAAC,CACvC,OACF,CACAL,MAAM,CAACE,IAAI,CAACS,IAAI,CAAC,CAAC,CAAC,CACrB,CAAC,IAAM,IAAIE,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAE,CAC7Bb,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAED,mBACEL,KAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtB,IAAA,UACEuB,GAAG,CAAEX,QAAS,CACdS,SAAS,CAAE,6CAA6CX,KAAK,CAAG,gBAAgB,CAAG,oBAAoB,4CAA6C,CACpJL,KAAK,CAAEG,IAAK,CACZgB,QAAQ,CAAEL,CAAC,EAAI,CAAEV,OAAO,CAACU,CAAC,CAACM,MAAM,CAACpB,KAAK,CAAC,CAAEM,QAAQ,CAAC,EAAE,CAAC,CAAE,CAAE,CAC1De,MAAM,CAAEV,UAAW,CACnBW,SAAS,CAAET,aAAc,CACzB,aAAW,eAAe,CAC3B,CAAC,CACDR,KAAK,eAAIV,IAAA,QAAKqB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEZ,KAAK,CAAM,CAAC,EAC/D,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}