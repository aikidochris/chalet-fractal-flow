{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aikid\\\\CascadeProjects\\\\chalet-fractal-flow\\\\src\\\\components\\\\CardColorPopover.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = [{\n  name: 'default',\n  label: 'Default',\n  value: '#fff',\n  border: '#e5e7eb'\n},\n// white\n{\n  name: 'blue',\n  label: 'Blue',\n  value: '#e0edfa',\n  border: '#60a5fa'\n}, {\n  name: 'green',\n  label: 'Green',\n  value: '#e5f6e7',\n  border: '#34d399'\n}, {\n  name: 'yellow',\n  label: 'Yellow',\n  value: '#fffbe5',\n  border: '#fbbf24'\n}, {\n  name: 'red',\n  label: 'Red',\n  value: '#fdeaea',\n  border: '#f87171'\n}, {\n  name: 'purple',\n  label: 'Purple',\n  value: '#f3e8ff',\n  border: '#a78bfa'\n}, {\n  name: 'grey',\n  label: 'Grey',\n  value: '#f3f4f6',\n  border: '#9ca3af'\n}];\nconst CardColorPopover = ({\n  open,\n  anchorEl,\n  selected,\n  onSelect,\n  onClose\n}) => {\n  _s();\n  const popoverRef = useRef(null);\n  const firstBtnRef = useRef(null);\n\n  // Position popover below anchor\n  useEffect(() => {\n    if (open && anchorEl && popoverRef.current) {\n      const rect = anchorEl.getBoundingClientRect();\n      popoverRef.current.style.position = 'fixed';\n      popoverRef.current.style.top = `${rect.bottom + 6}px`;\n      popoverRef.current.style.left = `${rect.left}px`;\n      popoverRef.current.style.zIndex = '9999';\n      setTimeout(() => {\n        var _firstBtnRef$current;\n        return (_firstBtnRef$current = firstBtnRef.current) === null || _firstBtnRef$current === void 0 ? void 0 : _firstBtnRef$current.focus();\n      }, 20);\n    }\n  }, [open, anchorEl]);\n\n  // Close on click outside\n  useEffect(() => {\n    if (!open) return;\n    function handle(event) {\n      if (popoverRef.current && !popoverRef.current.contains(event.target) && anchorEl && !anchorEl.contains(event.target)) {\n        onClose();\n      }\n    }\n    document.addEventListener('mousedown', handle);\n    return () => document.removeEventListener('mousedown', handle);\n  }, [open, anchorEl, onClose]);\n\n  // Keyboard navigation\n  const handleKeyDown = e => {\n    if (e.key === 'Escape') onClose();\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: popoverRef,\n    onKeyDown: handleKeyDown,\n    className: \"bg-white border border-gray-200 rounded-lg shadow-lg p-2 flex gap-2\",\n    role: \"menu\",\n    \"aria-label\": \"Set card color\",\n    children: COLORS.map((color, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n      ref: i === 0 ? firstBtnRef : undefined,\n      className: `w-8 h-8 rounded-full border-2 flex items-center justify-center focus:outline-accent focus:ring-2 focus:ring-accent/50 ${selected === color.name ? 'ring-2 ring-accent' : ''}`,\n      style: {\n        background: color.value,\n        borderColor: color.border\n      },\n      \"aria-label\": color.label,\n      tabIndex: 0,\n      onClick: () => {\n        onSelect(color.name);\n        onClose();\n      },\n      children: selected === color.name && /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"18\",\n        height: \"18\",\n        fill: \"none\",\n        viewBox: \"0 0 20 20\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M6 10.5l3 3 5-5\",\n          stroke: \"#333\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 73\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)\n    }, color.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(CardColorPopover, \"22sP6XPGBiKYcg5fKmQ65lAEWBA=\");\n_c = CardColorPopover;\nexport default CardColorPopover;\nvar _c;\n$RefreshReg$(_c, \"CardColorPopover\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","COLORS","name","label","value","border","CardColorPopover","open","anchorEl","selected","onSelect","onClose","_s","popoverRef","firstBtnRef","current","rect","getBoundingClientRect","style","position","top","bottom","left","zIndex","setTimeout","_firstBtnRef$current","focus","handle","event","contains","target","document","addEventListener","removeEventListener","handleKeyDown","e","key","ref","onKeyDown","className","role","children","map","color","i","undefined","background","borderColor","tabIndex","onClick","width","height","fill","viewBox","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/aikid/CascadeProjects/chalet-fractal-flow/src/components/CardColorPopover.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nconst COLORS = [\n  { name: 'default', label: 'Default', value: '#fff', border: '#e5e7eb' }, // white\n  { name: 'blue', label: 'Blue', value: '#e0edfa', border: '#60a5fa' },\n  { name: 'green', label: 'Green', value: '#e5f6e7', border: '#34d399' },\n  { name: 'yellow', label: 'Yellow', value: '#fffbe5', border: '#fbbf24' },\n  { name: 'red', label: 'Red', value: '#fdeaea', border: '#f87171' },\n  { name: 'purple', label: 'Purple', value: '#f3e8ff', border: '#a78bfa' },\n  { name: 'grey', label: 'Grey', value: '#f3f4f6', border: '#9ca3af' }\n];\n\ninterface CardColorPopoverProps {\n  open: boolean;\n  anchorEl: HTMLElement | null;\n  selected: string;\n  onSelect: (color: string) => void;\n  onClose: () => void;\n}\n\nconst CardColorPopover: React.FC<CardColorPopoverProps> = ({ open, anchorEl, selected, onSelect, onClose }) => {\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const firstBtnRef = useRef<HTMLButtonElement>(null);\n\n  // Position popover below anchor\n  useEffect(() => {\n    if (open && anchorEl && popoverRef.current) {\n      const rect = anchorEl.getBoundingClientRect();\n      popoverRef.current.style.position = 'fixed';\n      popoverRef.current.style.top = `${rect.bottom + 6}px`;\n      popoverRef.current.style.left = `${rect.left}px`;\n      popoverRef.current.style.zIndex = '9999';\n      setTimeout(() => firstBtnRef.current?.focus(), 20);\n    }\n  }, [open, anchorEl]);\n\n  // Close on click outside\n  useEffect(() => {\n    if (!open) return;\n    function handle(event: MouseEvent) {\n      if (\n        popoverRef.current &&\n        !popoverRef.current.contains(event.target as Node) &&\n        anchorEl &&\n        !anchorEl.contains(event.target as Node)\n      ) {\n        onClose();\n      }\n    }\n    document.addEventListener('mousedown', handle);\n    return () => document.removeEventListener('mousedown', handle);\n  }, [open, anchorEl, onClose]);\n\n  // Keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Escape') onClose();\n  };\n\n  if (!open) return null;\n  return (\n    <div ref={popoverRef} onKeyDown={handleKeyDown} className=\"bg-white border border-gray-200 rounded-lg shadow-lg p-2 flex gap-2\" role=\"menu\" aria-label=\"Set card color\">\n      {COLORS.map((color, i) => (\n        <button\n          key={color.name}\n          ref={i === 0 ? firstBtnRef : undefined}\n          className={`w-8 h-8 rounded-full border-2 flex items-center justify-center focus:outline-accent focus:ring-2 focus:ring-accent/50 ${selected === color.name ? 'ring-2 ring-accent' : ''}`}\n          style={{ background: color.value, borderColor: color.border }}\n          aria-label={color.label}\n          tabIndex={0}\n          onClick={() => { onSelect(color.name); onClose(); }}\n        >\n          {selected === color.name && (\n            <svg width=\"18\" height=\"18\" fill=\"none\" viewBox=\"0 0 20 20\"><path d=\"M6 10.5l3 3 5-5\" stroke=\"#333\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default CardColorPopover;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}